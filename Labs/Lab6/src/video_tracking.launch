<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="use_ransac" default="True" />
  <arg name="pose_estimator" default="0" />
  <arg name="scale_translation" default="1" />

  <arg name="dataset" default="office.bag" />
  <arg name="path_to_dataset" default="$(eval env('HOME') + '/data/vnav/' + arg('dataset'))"/>

  <node name="lab_6" pkg="lab_6" type="pose_estimation" output="screen"
    args="--use_ransac=$(arg use_ransac)
    --pose_estimator=$(arg pose_estimator)
    --scale_translation=$(arg scale_translation)">
    <remap from="/ground_truth_pose" to="/tesse/odom"/>
    <remap from="/rgb_images_topic" to="/tesse/left_cam/rgb/image_raw"/>
    <remap from="/depth_images_topic" to="/tesse/depth_cam/mono/image_raw"/>
  </node>

  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find lab_6)/rviz/office.rviz" />

  <!-- Tip: press space on the terminal you ran this roslaunch to pause the rosbag-->
  <node name="rosbag" pkg="rosbag" type="play" output="screen" args="--clock $(arg path_to_dataset)"/>
</launch>
